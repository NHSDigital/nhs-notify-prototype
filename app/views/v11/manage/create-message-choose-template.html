{% extends 'v11/layout.html' %}

{% block beforeContent %}
{% endblock %}

{% block outerContent %}
{% endblock %}

{% block content %}

{% from '../includes/choose-template-table-row.njk' import choose_template_row %}

  <div class="nhsuk-grid-row">

    <div class="nhsuk-grid-column-full">

      <span class="nhsuk-caption-l">{{ data['message-name-1'] }}</span>
      <h1 class="nhsuk-heading-xl">Choose  
        {% if data['message-type'] == 'NHS App' %}an NHS App{%endif%}
        {% if data['message-type'] == 'Email' %}an email{%endif%}
        {% if data['message-type'] == 'Text message (SMS)' %}a text message (SMS){%endif%}
         template</h1>

      {% if data['show-folders'] == '1' %}

      <div class="nhsuk-form-group">

        <label class="nhsuk-label" for="filter-folders">
          Filter templates by folder
        </label>

        <select class="nhsuk-select" id="filter-folders" name="filter-folders">
          <option value="0" selected></option>
          <option value="1">Folder 1</option>
          <option value="2">Folder 2</option>
        </select>

        <script>
          function toggleDiv() {
              let filter_folders = document.getElementById("filter-folders").value;
              let div1 = document.getElementById("one");
              let div2 = document.getElementById("two");
              let div3 = document.getElementById("three");

              if (value1 === "show") {
                  div1.style.visibility = "visible";
              }
              else {
                  div1.style.visibility = "hidden";
              }

              if (value2 === "show") {
                  div2.style.visibility = "visible";
              }
              else {
                  div2.style.visibility = "hidden";
              }

              if (value3 === "show") {
                  div3.style.visibility = "visible";
              }
              else {
                  div3.style.visibility = "hidden";
              }

          }
        </script>

      </div>

      {% endif %}

      {% if data['show-templates'] == '1' %}

      <form action="create-message" autocomplete="off">

        <p class="nhsuk-hint">Choose one option</p>

        



        {% if data['message-type'] == 'NHS App' %}

        <table role="table" class="nhsuk-table-responsive nhsuk-u-margin-bottom-6">
 
          <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
              <th role="columnheader" class="" scope="col">
                Select
              </th>
              <th role="columnheader" class="" scope="col">
                Name
              </th>
              <th role="columnheader" class="" scope="col">
                Type
              </th>
              <th role="columnheader" class="" scope="col">
                Date and <br />time created
              </th>
              <th role="columnheader" class="" scope="col">
                Action
              </th>
            </tr>
          </thead>
          <tbody class="nhsuk-table__body">
              
            {{choose_template_row( templateNumber='1', templateTypeName='NHS App', templateType='app', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='2', templateTypeName='NHS App', templateType='app', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='3', templateTypeName='NHS App', templateType='app', channelNumber=data["channel-number"] )}}

          </tbody>
        </table>

        {% endif %}






        {% if data['message-type'] == 'Text message (SMS)' %}

        <table role="table" class="nhsuk-table-responsive nhsuk-u-margin-bottom-6">
 
          <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
              <th role="columnheader" class="" scope="col">
                Select
              </th>
              <th role="columnheader" class="" scope="col">
                Name
              </th>
              <th role="columnheader" class="" scope="col">
                Type
              </th>
              <th role="columnheader" class="" scope="col">
                Date and <br />time created
              </th>
              <th role="columnheader" class="" scope="col">
                Action
              </th>
            </tr>
          </thead>
          <tbody class="nhsuk-table__body">

            {{choose_template_row( templateNumber='4', templateTypeName='Text message (SMS)', templateType='sms', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='5', templateTypeName='Text message (SMS)', templateType='sms', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='6', templateTypeName='Text message (SMS)', templateType='sms', channelNumber=data["channel-number"] )}}

          </tbody>
        </table>

        {% endif %}







        {% if data['message-type'] == 'Email' %}

        <table role="table" class="nhsuk-table-responsive nhsuk-u-margin-bottom-6">
 
          <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
              <th role="columnheader" class="" scope="col">
                Select
              </th>
              <th role="columnheader" class="" scope="col">
                Name
              </th>
              <th role="columnheader" class="" scope="col">
                Type
              </th>
              <th role="columnheader" class="" scope="col">
                Date and <br />time created
              </th>
              <th role="columnheader" class="" scope="col">
                Action
              </th>
            </tr>
          </thead>
          <tbody class="nhsuk-table__body">

            {{choose_template_row( templateNumber='7', templateTypeName='Email', templateType='email', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='8', templateTypeName='Email', templateType='email', channelNumber=data["channel-number"] )}}

            {{choose_template_row( templateNumber='9', templateTypeName='Email', templateType='email', channelNumber=data["channel-number"] )}}

          </tbody>
        </table>

        {% endif %}







        <div class="nhsuk-form-group">

          {{ button({
            text: 'Save and continue'
          }) }}

          <a href="create-message" class="nhsuk-u-font-size-19 nhsuk-u-margin-left-3 nhsuk-u-padding-top-3" style="display: inline-block;">Go back</a>

        </div>

      </form>

      {% else%}

      <p>You do not have any templates yet.</p>
      
      <div class="nhsuk-form-group">

        <p><a href="folder-templates">Go to the templates area</a></p>

        <p><a href="create-message">Go back</a></p>

      </div>

      {% endif %}

    </div>
  </div>
{% endblock %}
