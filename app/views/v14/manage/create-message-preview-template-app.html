{% extends 'v14/layout.html' %}

{% block pageScripts %}

<!-- Script to convert markdown to formatted content -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
<script>
window.onload = function () {
  var text = document.getElementById('sourceTA').value,
      target = document.getElementById('targetDiv'),
      converter = new showdown.Converter({noHeaderId: true, simpleLineBreaks: false, simplifiedAutoLink: true}),
      html = converter.makeHtml(text);
    
    target.innerHTML = html;
}
</script>

{% endblock %}



{% block beforeContent %}

{{ backLink({
  "href": "javascript:history.go(-1);",
  "text": "Go back"
}) }}

{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">

    <div class="nhsuk-grid-column-full">

      <div class="nhsuk-u-reading-width">

        <span class="nhsuk-caption-l">Template</span>
        <h1 class="nhsuk-heading-xl">
          {{ data['preview-template-name'] }}
        </h1>

      </div>

      <table role="table" class="notify-template-content nhsuk-u-margin-bottom-4">
        <tbody class="nhsuk-table__body">

          <tr role="row" class="nhsuk-table__row">
            <th role="cell" class="nhsuk-table__cell" style="width:20%;">
              Template ID
            </th>
            <td role="cell" class="nhsuk-table__cell">
              a4b171b5-431f-4a5b-9d7a-9a4903c98e66
            </td>
          </tr>

          <tr role="row" class="nhsuk-table__row">
            <th role="cell" class="nhsuk-table__cell">
              Type
            </th>
            <td role="cell" class="nhsuk-table__cell">
              NHS App
            </td>
          </tr>

        </tbody>
      </table>

      <table role="table" class="nhsuk-table-responsive notify-template-content nhsuk-u-margin-bottom-6">
        <tbody class="nhsuk-table__body">

          <tr role="row" class="nhsuk-table__row">
            <th role="cell" class="nhsuk-table__cell" style="width: 20%; border-bottom: none;">
              Message
            </th>
            <td role="cell" class="nhsuk-table__cell" style="border-bottom: none;">

              <textarea id="sourceTA">{{ data["template-app-message-1"] }}</textarea>
              <div id="targetDiv"></div>

            </td>
          </tr>

        </tbody>
      </table>

      <p><a href="javascript:history.go(-1);">Go back</a></p>

    </div>
  </div>
{% endblock %}
